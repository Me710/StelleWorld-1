(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{4599:function(e,t,s){Promise.resolve().then(s.bind(s,8511))},8511:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(7437),n=s(2097),r=s(9116),i=s(3145),c=s(7648),l=s(7996),o=s(9089);function d(){let e=(0,n.x)(e=>e.cart),t=(0,n.x)(e=>e.removeFromCart),s=(0,n.x)(e=>e.updateQuantity),d=(0,n.x)(e=>e.getTotalPrice());return 0===e.length?(0,a.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDED2"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Votre panier est vide"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"D\xe9couvrez nos produits et ajoutez-les \xe0 votre panier"}),(0,a.jsx)(c.default,{href:"/products",className:"inline-block bg-pink-600 hover:bg-pink-700 text-white px-8 py-3 rounded-full font-semibold transition-colors",children:"Voir les produits"})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mon Panier"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-4",children:e.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"relative w-24 h-24 flex-shrink-0",children:(0,a.jsx)(i.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover rounded-lg"})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)(c.default,{href:"/products/".concat(e.slug),className:"text-lg font-semibold text-gray-900 hover:text-pink-600 transition-colors",children:e.name}),(0,a.jsxs)("p",{className:"text-pink-600 font-bold mt-1",children:[e.price.toFixed(2),"€"]}),e.stock<=5&&(0,a.jsxs)("p",{className:"text-sm text-orange-600 mt-1",children:["Seulement ",e.stock," en stock"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>s(e.id,e.quantity-1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,a.jsx)(l.ego,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"text-lg font-semibold w-8 text-center",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>s(e.id,e.quantity+1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",disabled:e.quantity>=e.stock,children:(0,a.jsx)(l.OvN,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[(e.price*e.quantity).toFixed(2),"€"]})}),(0,a.jsx)("button",{onClick:()=>t(e.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-full transition-colors",children:(0,a.jsx)(l.Ybf,{className:"w-5 h-5"})})]})},e.id))}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"R\xe9sum\xe9 de la commande"}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,a.jsx)("span",{children:"Sous-total"}),(0,a.jsxs)("span",{children:[d.toFixed(2),"€"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,a.jsx)("span",{children:"Livraison"}),(0,a.jsx)("span",{className:"text-green-600 font-semibold",children:"Gratuite"})]}),(0,a.jsx)("div",{className:"border-t pt-3",children:(0,a.jsxs)("div",{className:"flex justify-between text-xl font-bold text-gray-900",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:[d.toFixed(2),"€"]})]})})]}),(0,a.jsxs)("a",{href:(0,r.Od)(e),target:"_blank",rel:"noopener noreferrer",className:"w-full bg-green-500 hover:bg-green-600 text-white py-4 rounded-lg font-bold text-center flex items-center justify-center space-x-3 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[(0,a.jsx)(o.xpo,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Commander via WhatsApp"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 text-center mt-4",children:"Cliquez pour envoyer votre commande via WhatsApp. Nous vous r\xe9pondrons rapidement !"}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"\uD83D\uDCE6 Livraison gratuite"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Profitez de la livraison gratuite sur toutes les commandes en Grande R\xe9gion de Montr\xe9al"})]})]})})]})]})})}},9116:function(e,t,s){"use strict";s.d(t,{Lq:function(){return l},Od:function(){return c},Xp:function(){return n},at:function(){return r}});let a=s(3464).Z.create({baseURL:"http://localhost:8001",headers:{"Content-Type":"application/json"}}),n=async e=>{let{data:t}=await a.get("/api/products",{params:e});return t},r=async()=>{let{data:e}=await a.get("/api/products/featured");return e},i=e=>{let t="\uD83D\uDED2 *Nouvelle commande StelleWorld*\n\n";e.forEach((e,s)=>{t+="".concat(s+1,". *").concat(e.name,"*\n")+"   Quantit\xe9: ".concat(e.quantity,"\n")+"   Prix unitaire: ".concat(e.price,"€\n")+"   Sous-total: ".concat((e.price*e.quantity).toFixed(2),"€\n\n")});let s=e.reduce((e,t)=>e+t.price*t.quantity,0);return encodeURIComponent(t+="\uD83D\uDCB0 *Total: ".concat(s.toFixed(2),"€*\n\n")+"Je souhaite confirmer cette commande.")},c=e=>{let t=i(e),s="+15813081802".replace("+","")||"15813081802";return"https://wa.me/".concat(s,"?text=").concat(t)},l=e=>{let t="+15813081802".replace("+","")||"15813081802",s=e?encodeURIComponent(e):encodeURIComponent("Bonjour, je souhaite avoir plus d'informations");return"https://wa.me/".concat(t,"?text=").concat(s)}},2097:function(e,t,s){"use strict";s.d(t,{x:function(){return r}});var a=s(3011),n=s(6885);let r=(0,a.U)()((0,n.tJ)((e,t)=>({cart:[],addToCart:s=>{let a=t().cart;a.find(e=>e.id===s.id)?e({cart:a.map(e=>e.id===s.id?{...e,quantity:Math.min(e.quantity+1,e.stock)}:e)}):e({cart:[...a,{...s,quantity:1}]})},removeFromCart:s=>{e({cart:t().cart.filter(e=>e.id!==s)})},updateQuantity:(s,a)=>{a<=0?t().removeFromCart(s):e({cart:t().cart.map(e=>e.id===s?{...e,quantity:Math.min(a,e.stock)}:e)})},clearCart:()=>{e({cart:[]})},getTotalItems:()=>t().cart.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>t().cart.reduce((e,t)=>e+t.price*t.quantity,0)}),{name:"stelleworld-cart"}))}},function(e){e.O(0,[956,699,848,145,971,117,744],function(){return e(e.s=4599)}),_N_E=e.O()}]);