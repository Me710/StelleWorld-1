(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[708,92],{7185:function(e,t,r){Promise.resolve().then(r.bind(r,6447))},6447:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(7437),a=r(2265),s=r(3030),i=r(9116),l=r(7996);function c(){let[e,t]=(0,a.useState)([]),[r,c]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),[p,h]=(0,a.useState)(""),[x,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{f()},[]),(0,a.useEffect)(()=>{b()},[u,p]);let f=async()=>{try{let e=await (0,i.CP)();c(e.categories||[])}catch(e){console.error("Erreur:",e)}},b=async()=>{d(!0);try{let e={limit:100};u&&(e.category_id=u),p&&(e.search=p);let r=await (0,i.Xp)(e);t(r.products||[])}catch(e){console.error("Erreur:",e)}finally{d(!1)}},y=()=>(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-bold text-gray-900 mb-4",children:"Cat\xe9gories"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("button",{onClick:()=>m(null),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(null===u?"bg-pink-100 text-pink-700 font-semibold":"hover:bg-gray-100 text-gray-700"),children:"Tous les produits"}),r.map(e=>(0,n.jsxs)("button",{onClick:()=>m(e.id),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(u===e.id?"bg-pink-100 text-pink-700 font-semibold":"hover:bg-gray-100 text-gray-700"),children:[e.name," (",e.product_count,")"]},e.id))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-bold text-gray-900 mb-4",children:"Disponibilit\xe9"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,n.jsx)("input",{type:"checkbox",className:"rounded border-gray-300"}),(0,n.jsx)("span",{className:"text-gray-700",children:"En stock uniquement"})]}),(0,n.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,n.jsx)("input",{type:"checkbox",className:"rounded border-gray-300"}),(0,n.jsx)("span",{className:"text-gray-700",children:"En promotion"})]})]})]})]});return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Tous nos produits"}),(0,n.jsxs)("p",{className:"text-xl text-gray-600",children:[e.length," produits disponibles"]})]}),(0,n.jsxs)("button",{onClick:()=>g(!x),className:"lg:hidden flex items-center space-x-2 bg-white px-4 py-3 rounded-lg shadow-md mb-6 w-full justify-center",children:[(0,n.jsx)(l.Ihx,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:"Filtres"})]}),(0,n.jsxs)("div",{className:"flex gap-8",children:[(0,n.jsx)("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:(0,n.jsx)(y,{})})}),x&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 lg:hidden",children:(0,n.jsxs)("div",{className:"bg-white w-80 h-full overflow-y-auto p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:"Filtres"}),(0,n.jsx)("button",{onClick:()=>g(!1),children:(0,n.jsx)(l.q5L,{className:"w-6 h-6"})})]}),(0,n.jsx)(y,{})]})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:(0,n.jsx)("input",{type:"text",placeholder:"Rechercher un produit...",value:p,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-500"})}),o?(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,n.jsx)("div",{className:"h-[500px] bg-gray-200 animate-pulse rounded-lg"},e))}):e.length>0?(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,n.jsx)(s.Z,{product:e},e.id))}):(0,n.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[(0,n.jsx)("p",{className:"text-xl text-gray-600",children:"Aucun produit trouv\xe9"}),(0,n.jsx)("button",{onClick:()=>{m(null),h("")},className:"mt-4 text-pink-600 hover:underline",children:"R\xe9initialiser les filtres"})]})]})]})]})})}},3030:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(7437),a=r(3145),s=r(7648),i=r(2097),l=r(7996);function c(e){let{product:t}=e,r=(0,i.x)(e=>e.addToCart),c=t.compare_at_price?Math.round((t.compare_at_price-t.price)/t.compare_at_price*100):0,o=t.stock_quantity>0;return(0,n.jsxs)("div",{className:"group bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden flex flex-col h-full",children:[(0,n.jsx)(s.default,{href:"/products/".concat(t.slug),children:(0,n.jsxs)("div",{className:"relative h-80 overflow-hidden bg-gray-100 flex-shrink-0",children:[(0,n.jsx)(a.default,{src:t.main_image_url||"/images/placeholder.jpg",alt:t.name,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover group-hover:scale-110 transition-transform duration-300"}),c>0&&(0,n.jsxs)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:["-",c,"%"]}),!o&&(0,n.jsx)("div",{className:"absolute top-2 right-2 bg-gray-900 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Rupture"})]})}),(0,n.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,n.jsx)(s.default,{href:"/products/".concat(t.slug),children:(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-pink-600 transition-colors h-12",children:t.name})}),t.short_description&&(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2 h-10",children:t.short_description}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,n.jsxs)("span",{className:"text-xl font-bold text-pink-600",children:[t.price.toFixed(2)," $"]}),t.compare_at_price&&(0,n.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:[t.compare_at_price.toFixed(2)," $"]})]}),(0,n.jsx)("div",{className:"flex-grow"}),o?(0,n.jsxs)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),r({id:t.id,name:t.name,slug:t.slug,price:t.price,image:t.main_image_url||"/images/placeholder.jpg",stock:t.stock_quantity})},className:"w-full bg-pink-600 hover:bg-pink-700 text-white py-3 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2 mt-auto",children:[(0,n.jsx)(l.Qyq,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:"Ajouter au panier"})]}):(0,n.jsx)("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 py-3 rounded-lg font-semibold cursor-not-allowed mt-auto",children:"Indisponible"})]})]})}},9116:function(e,t,r){"use strict";r.d(t,{CP:function(){return i},GL:function(){return l},Lq:function(){return d},Od:function(){return o},Xp:function(){return a},at:function(){return s}});let n=r(3464).Z.create({baseURL:"https://ce5a3700-656c-418c-9711-10eceb3797ba.preview.emergentagent.com/api",headers:{"Content-Type":"application/json"}}),a=async e=>{let{data:t}=await n.get("/products/",{params:e});return t},s=async()=>{let{data:e}=await n.get("/products/featured");return e},i=async()=>{let{data:e}=await n.get("/products/categories");return e},l=async()=>{let{data:e}=await n.get("/hero-slides");return e},c=e=>{let t="\uD83D\uDED2 *Nouvelle commande StelleWorld*\n\n";e.forEach((e,r)=>{t+="".concat(r+1,". *").concat(e.name,"*\n")+"   Quantit\xe9: ".concat(e.quantity,"\n")+"   Prix unitaire: ".concat(e.price,"$ CAD\n")+"   Sous-total: ".concat((e.price*e.quantity).toFixed(2),"$ CAD\n\n")});let r=e.reduce((e,t)=>e+t.price*t.quantity,0);return encodeURIComponent(t+="\uD83D\uDCB0 *Total: ".concat(r.toFixed(2),"$ CAD*\n\n")+"Je souhaite confirmer cette commande.")},o=e=>{let t=c(e),r="+15813081802".replace("+","")||"15813081802";return"https://wa.me/".concat(r,"?text=").concat(t)},d=e=>{let t="+15813081802".replace("+","")||"15813081802",r=e?encodeURIComponent(e):encodeURIComponent("Bonjour, je souhaite avoir plus d'informations");return"https://wa.me/".concat(t,"?text=").concat(r)}},2097:function(e,t,r){"use strict";r.d(t,{x:function(){return s}});var n=r(3011),a=r(6885);let s=(0,n.U)()((0,a.tJ)((e,t)=>({cart:[],addToCart:r=>{let n=t().cart;n.find(e=>e.id===r.id)?e({cart:n.map(e=>e.id===r.id?{...e,quantity:Math.min(e.quantity+1,e.stock)}:e)}):e({cart:[...n,{...r,quantity:1}]})},removeFromCart:r=>{e({cart:t().cart.filter(e=>e.id!==r)})},updateQuantity:(r,n)=>{n<=0?t().removeFromCart(r):e({cart:t().cart.map(e=>e.id===r?{...e,quantity:Math.min(n,e.stock)}:e)})},clearCart:()=>{e({cart:[]})},getTotalItems:()=>t().cart.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>t().cart.reduce((e,t)=>e+t.price*t.quantity,0)}),{name:"stelleworld-cart"}))},6885:function(e,t,r){"use strict";r.d(t,{tJ:function(){return a}});let n=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>n(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>n(t)(e)}}},a=(e,t)=>(r,a,s)=>{let i,l={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=r.getItem(e))?t:null;return a instanceof Promise?a.then(n):n(a)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},c=!1,o=new Set,d=new Set,u=l.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...e)},a,s);let m=()=>{let e=l.partialize({...a()});return u.setItem(l.name,{state:e,version:l.version})},p=s.setState;s.setState=(e,t)=>(p(e,t),m());let h=e((...e)=>(r(...e),m()),a,s);s.getInitialState=()=>h;let x=()=>{var e,t;if(!u)return;c=!1,o.forEach(e=>{var t;return e(null!=(t=a())?t:h)});let s=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=a())?e:h))||void 0;return n(u.getItem.bind(u))(l.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[n,s]=e;if(r(i=l.merge(s,null!=(t=a())?t:h),!0),n)return m()}).then(()=>{null==s||s(i,void 0),i=a(),c=!0,d.forEach(e=>e(i))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{l={...l,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>c,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},l.skipHydration||x(),i||h}},3011:function(e,t,r){"use strict";r.d(t,{U:function(){return c}});var n=r(2265);let a=e=>{let t;let r=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=n?n:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,s={setState:n,getState:a,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(n,a,s);return s},s=e=>e?a(e):a,i=e=>e,l=e=>{let t=s(e),r=e=>(function(e,t=i){let r=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},c=e=>e?l(e):l}},function(e){e.O(0,[956,314,599,145,971,117,744],function(){return e(e.s=7185)}),_N_E=e.O()}]);