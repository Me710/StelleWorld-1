(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{7512:function(e,t,r){Promise.resolve().then(r.bind(r,8150))},8150:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var a=r(7437),n=r(2265),s=r(3030),o=r(9116);function c(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(!0),[i,l]=(0,n.useState)("all"),[u,d]=(0,n.useState)("");(0,n.useEffect)(()=>{p()},[i]);let p=async()=>{c(!0);try{let e=await (0,o.Xp)({filter:i,search:u});t(e.products||[])}catch(e){console.error("Erreur:",e)}finally{c(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Tous nos produits"}),(0,a.jsx)("p",{className:"text-xl text-gray-600",children:"D\xe9couvrez notre collection compl\xe8te"})]}),(0,a.jsxs)("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Rechercher un produit...",value:u,onChange:e=>d(e.target.value),className:"flex-grow px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-500"}),(0,a.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-500",children:[(0,a.jsx)("option",{value:"all",children:"Tous les produits"}),(0,a.jsx)("option",{value:"new",children:"Nouveaut\xe9s"}),(0,a.jsx)("option",{value:"promo",children:"En promotion"}),(0,a.jsx)("option",{value:"bestsellers",children:"Meilleures ventes"})]})]}),r?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map(e=>(0,a.jsx)("div",{className:"h-96 bg-gray-200 animate-pulse rounded-lg"},e))}):e.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(e=>(0,a.jsx)(s.Z,{product:e},e.id))}):(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-xl text-gray-600",children:"Aucun produit trouv\xe9"})})]})})}},3030:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(7437),n=r(3145),s=r(7648),o=r(2097),c=r(7996);function i(e){let{product:t}=e,r=(0,o.x)(e=>e.addToCart),i=t.compare_at_price?Math.round((t.compare_at_price-t.price)/t.compare_at_price*100):0,l=t.stock_quantity>0;return(0,a.jsxs)(s.default,{href:"/products/".concat(t.slug),className:"group bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative h-64 overflow-hidden bg-gray-100",children:[(0,a.jsx)(n.default,{src:t.main_image_url||"/images/placeholder.jpg",alt:t.name,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-300"}),i>0&&(0,a.jsxs)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:["-",i,"%"]}),!l&&(0,a.jsx)("div",{className:"absolute top-2 right-2 bg-gray-900 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Rupture"})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-pink-600 transition-colors",children:t.name}),t.short_description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.short_description}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-xl font-bold text-pink-600",children:[t.price.toFixed(2),"€"]}),t.compare_at_price&&(0,a.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:[t.compare_at_price.toFixed(2),"€"]})]})}),l?(0,a.jsxs)("button",{onClick:e=>{e.preventDefault(),r({id:t.id,name:t.name,slug:t.slug,price:t.price,image:t.main_image_url||"/images/placeholder.jpg",stock:t.stock_quantity})},className:"w-full bg-pink-600 hover:bg-pink-700 text-white py-2 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[(0,a.jsx)(c.Qyq,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Ajouter au panier"})]}):(0,a.jsx)("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 py-2 rounded-lg font-semibold cursor-not-allowed",children:"Indisponible"})]})]})}},9116:function(e,t,r){"use strict";r.d(t,{Lq:function(){return i},Od:function(){return c},Xp:function(){return n},at:function(){return s}});let a=r(3464).Z.create({baseURL:"http://localhost:8001",headers:{"Content-Type":"application/json"}}),n=async e=>{let{data:t}=await a.get("/api/products",{params:e});return t},s=async()=>{let{data:e}=await a.get("/api/products/featured");return e},o=e=>{let t="\uD83D\uDED2 *Nouvelle commande StelleWorld*\n\n";e.forEach((e,r)=>{t+="".concat(r+1,". *").concat(e.name,"*\n")+"   Quantit\xe9: ".concat(e.quantity,"\n")+"   Prix unitaire: ".concat(e.price,"€\n")+"   Sous-total: ".concat((e.price*e.quantity).toFixed(2),"€\n\n")});let r=e.reduce((e,t)=>e+t.price*t.quantity,0);return encodeURIComponent(t+="\uD83D\uDCB0 *Total: ".concat(r.toFixed(2),"€*\n\n")+"Je souhaite confirmer cette commande.")},c=e=>{let t=o(e),r="+15813081802".replace("+","")||"15813081802";return"https://wa.me/".concat(r,"?text=").concat(t)},i=e=>{let t="+15813081802".replace("+","")||"15813081802",r=e?encodeURIComponent(e):encodeURIComponent("Bonjour, je souhaite avoir plus d'informations");return"https://wa.me/".concat(t,"?text=").concat(r)}},2097:function(e,t,r){"use strict";r.d(t,{x:function(){return s}});var a=r(3011),n=r(6885);let s=(0,a.U)()((0,n.tJ)((e,t)=>({cart:[],addToCart:r=>{let a=t().cart;a.find(e=>e.id===r.id)?e({cart:a.map(e=>e.id===r.id?{...e,quantity:Math.min(e.quantity+1,e.stock)}:e)}):e({cart:[...a,{...r,quantity:1}]})},removeFromCart:r=>{e({cart:t().cart.filter(e=>e.id!==r)})},updateQuantity:(r,a)=>{a<=0?t().removeFromCart(r):e({cart:t().cart.map(e=>e.id===r?{...e,quantity:Math.min(a,e.stock)}:e)})},clearCart:()=>{e({cart:[]})},getTotalItems:()=>t().cart.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>t().cart.reduce((e,t)=>e+t.price*t.quantity,0)}),{name:"stelleworld-cart"}))}},function(e){e.O(0,[956,848,145,971,117,744],function(){return e(e.s=7512)}),_N_E=e.O()}]);